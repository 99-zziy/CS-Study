# Http & Https

## 1. HTTP

**HTTP란**  Hyper Text Transfer Protocol의 약자로 직역하면 하이퍼텍스트 문서인 html로 만든 웹페이지를 전송하기 위해 사용되는 프로토콜입니다.  
즉, 웹 브라우저와 서버가 통신하는 절차와 형식을 규정한 것 입니다.

> 프로토콜이란?  
> 컴퓨터 내부에서, 또는 컴퓨터 사이에서 데이터 교환방식을 정의하는 규칙체계이다.

<br/>

## 2. HTTPS 

**HTTPS는** Hyper Text Transfer Protocol Secure의 약자로 브라우저와 연결된 웹 사이트 간에 데이터가 전송되는 프로토콜인 HTTP의 보안 버전입니다.  
HTTPS의 끝에 있는 'S'는 '보안'을 나타냅니다.   

1. 내가 사이트에 보내는 정보들을 제 3자가 못 보게 한다.-> 브라우저와 웹 사이트 간의 모든 통신이 암호화
2. 접속한 사이트가 믿을 만한 곳인지를 알려준다. -> 기관으로 부터 검증된 사이트만 주소에서 HTTPS의 사용이 허가

**그는 그래서 더 안전하다!**

HTTPS는 HTTP의 하부에 SSL과 같은 보안 계층을 제공함으로써 동작한다.  
<img width="703" alt="스크린샷 2021-09-26 오전 8 51 24" src="https://user-images.githubusercontent.com/62633444/134788679-7905ce8f-e16a-4341-ae4a-541e6ce2453b.png">

<br/>

## 3. SSL 동작방식

컴퓨터와 컴퓨터가 그 사이의 네트워크로 통신을 하기 위해서는 핸드쉐이크 -> 세션 -> 세션종료의 과정을 거친다.  
암호화된 HTTP(HTTPS)메세지를 교환하기 전에 클라이언트와 서버는 SSL 핸드쉐이크를 진행한다.  

### 대칭키
암호화 복호화 키가 동일한 암호화 방식
문제점) 어떻게 양쪽이 동일한 키를 가지고있을끼? -> 한 쪽이 다른 한 쪽으로 키를 전송해야한다. (키 교환 문제)
중간에 탈취한다면? -> 결국에 똑같은 문제 발생


### 공개키 (비대칭키)
키 교환문제를 해결하기 위해 등장한 것이 공개키 방식이다. 
<img width="826" alt="스크린샷 2021-09-26 오전 9 39 45" src="https://user-images.githubusercontent.com/62633444/134789310-55e7aa86-3b0f-4dcd-9151-865ddeec4944.png">
신뢰할 수있는 기관에서 네이버의 공개키만 검증해 준다면, 이방식을 이용해 안전하게 사이트를 접속할 수 있다.

### CA
ssl 인증서를 발급하는 기관으로, 신뢰할 수 있는 기관들을 의미합니다.

<br/>
<img width="986" alt="스크린샷 2021-09-26 오전 8 50 35" src="https://user-images.githubusercontent.com/62633444/134788667-eefd2b0e-a309-4808-bb68-bb56f17c1e43.png">
<br/>

1. 랜덤데이터 생성해서 클라 -> 서버
2. 랜덤데이터 생성해서 서버 -> 클라 + 인증서 , 핸드쉐이크를 키를 만듦(대칭키로 사용)
3. 인증서가 진짜인지 CA를 통해서 확인함 
4. 인증서안에 들어있는 공개키로 대칭키를 암호화해서 전송함
5. 서버는 개인키로 복호화해서 대칭키를 생성
6. 그 대칭키를 이용해서 통신을 함

비대칭키가 대칭키보다 컴퓨터에 훨씬 큰 부담을 줌 -> 대칭키 + 비대칭키 혼합 사용 (대칭키를 공유할때 비대칭키를 사용)
